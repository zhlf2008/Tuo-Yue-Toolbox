<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>海报生成器 | Poster Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;600;700;900&family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        /* CSS 变量系统 */
        :root {
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --gradient-2: linear-gradient(45deg, #fa709a 0%, #fee140 100%);
            --gradient-3: linear-gradient(225deg, #4facfe 0%, #00f2fe 100%);
            --gradient-4: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            --gradient-5: conic-gradient(from 0deg, #667eea, #764ba2, #f093fb, #fa709a, #667eea);
            --gradient-6: repeating-linear-gradient(45deg, #667eea, #667eea 10px, #764ba2 10px, #764ba2 20px);
            --gradient-7: radial-gradient(circle at 20% 50%, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --gradient-8: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            
            --font-display: 'Playfair Display', serif;
            --font-title: 'Noto Serif SC', serif;
            --font-body: 'Montserrat', 'Noto Serif SC', sans-serif;
            
            --shadow-subtle: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.12);
            --shadow-strong: 0 12px 40px rgba(0, 0, 0, 0.15);
            
            --transition-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.4;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 0;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 0;
        }

        .container {
            display: grid;
            grid-template-columns: 500px 1fr;
            gap: 3rem;
            max-width: 1800px;
            margin: 0 auto;
            padding: 3rem;
            position: relative;
            z-index: 1;
        }

        /* 控制面板 */
        .control-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 2.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            height: fit-content;
            position: sticky;
            top: 2rem;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .panel-header {
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(102, 126, 234, 0.15);
            position: relative;
        }

        .panel-header::before {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, #667eea, transparent);
        }

        .panel-title {
            font-family: var(--font-display);
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        .panel-subtitle {
            font-size: 0.875rem;
            color: #64748b;
            font-weight: 400;
            letter-spacing: 0.02em;
        }

        /* 组件容器样式 */
        .component-group {
            margin-bottom: 2.5rem;
            opacity: 0;
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .component-group:nth-child(1) { animation-delay: 0.1s; }
        .component-group:nth-child(2) { animation-delay: 0.2s; }
        .component-group:nth-child(3) { animation-delay: 0.3s; }
        .component-group:nth-child(4) { animation-delay: 0.4s; }
        .component-group:nth-child(5) { animation-delay: 0.5s; }
        .component-group:nth-child(6) { animation-delay: 0.6s; }
        .component-group:nth-child(7) { animation-delay: 0.7s; }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .component-group-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
            position: relative;
        }

        .component-group-title::before {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 40px;
            height: 2px;
            background: linear-gradient(90deg, #667eea, transparent);
        }

        .component-group-title svg {
            width: 20px;
            height: 20px;
            color: #667eea;
            filter: drop-shadow(0 2px 4px rgba(102, 126, 234, 0.2));
        }

        .component-group-title span {
            font-size: 0.8rem;
            font-weight: 600;
            color: #475569;
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }

        .form-label {
            display: block;
            margin-bottom: 0.6rem;
            font-size: 0.8rem;
            font-weight: 600;
            color: #475569;
            letter-spacing: 0.02em;
        }

        .form-input,
        .form-textarea {
            width: 100%;
            padding: 0.875rem 1.25rem;
            font-family: var(--font-body);
            font-size: 0.9rem;
            border: 1.5px solid #e2e8f0;
            border-radius: 12px;
            background: #fff;
            transition: all var(--transition-fast);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
        }

        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1), 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .form-input::placeholder,
        .form-textarea::placeholder {
            color: #94a3b8;
        }

        .form-textarea {
            min-height: 80px;
            resize: vertical;
        }

        /* 背景组件 */
        .gradient-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
        }

        .gradient-option {
            aspect-ratio: 1;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .gradient-option::before {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0);
            transition: background 0.3s ease;
        }

        .gradient-option:hover {
            transform: translateY(-4px) scale(1.05);
        }

        .gradient-option:hover::before {
            background: rgba(255, 255, 255, 0.2);
        }

        .gradient-option.active {
            border-color: #667eea;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.25);
        }

        .gradient-option.active::before {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            color: white;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* 图片组件 */
        .image-upload {
            position: relative;
        }

        .image-upload input[type="file"] {
            display: none;
        }

        .image-upload-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            padding: 1.25rem;
            border: 2px dashed #cbd5e1;
            border-radius: 14px;
            background: #fff;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .image-upload-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #667eea, #764ba2);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-upload-btn > * {
            position: relative;
            z-index: 1;
        }

        .image-upload-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .image-upload-btn:hover::before {
            opacity: 0.05;
        }

        .image-preview {
            margin-top: 0.75rem;
            border-radius: 12px;
            overflow: hidden;
            display: none;
        }

        .image-preview.show {
            display: block;
        }

        .image-preview img {
            width: 100%;
            height: auto;
            display: block;
        }

        .image-preview-remove {
            display: block;
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.5rem;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
        }

        /* 对齐按钮 */
        .align-buttons {
            display: flex;
            gap: 0.5rem;
            background: #f1f5f9;
            padding: 0.25rem;
            border-radius: 10px;
        }

        .align-btn {
            flex: 1;
            padding: 0.6rem;
            border: 1px solid transparent;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            color: #64748b;
        }

        .align-btn:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .align-btn.active {
            background: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
            color: #667eea;
        }

        /* 嘉宾组件 */
        .guest-block {
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            position: relative;
            transition: all var(--transition-fast);
        }

        .guest-block:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
        }

        .guest-block-grid {
            display: flex;
            gap: 1rem;
        }

        .guest-photo-area {
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            width: 120px;
            gap: 0.75rem;
        }

        .guest-photo-wrapper {
            width: 100%;
            height: 100px;
            flex-shrink: 0;
            position: relative;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            transition: all var(--transition-fast);
        }

        .guest-photo-wrapper:hover {
            transform: scale(1.05);
        }

        .guest-photo-preview {
            width: 100%;
            height: 100%;
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            overflow: hidden;
            position: relative;
        }

        .guest-photo-preview.has-image {
            border-style: solid;
            border-color: transparent;
        }

        .guest-photo-preview span {
            font-size: 0.7rem;
            color: #9ca3af;
            text-align: center;
            padding: 0.25rem;
        }

        .guest-photo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        .guest-photo-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity var(--transition-fast);
        }

        .guest-photo-wrapper:hover .guest-photo-overlay {
            opacity: 1;
        }

        .guest-photo-overlay svg {
            width: 20px;
            height: 20px;
            color: white;
        }

        .guest-photo-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, auto);
            gap: 0.25rem;
            width: 100%;
            padding: 0.25rem;
            background: #f1f5f9;
            border-radius: 8px;
        }

        .guest-photo-controls .photo-control-btn:nth-child(1) {
            grid-column: 2;
        }

        .guest-photo-controls .photo-control-btn:nth-child(2) {
            grid-column: 1;
            grid-row: 2;
        }

        .guest-photo-controls .photo-control-btn:nth-child(3) {
            grid-column: 2;
            grid-row: 2;
        }

        .guest-photo-controls .photo-control-btn:nth-child(4) {
            grid-column: 3;
            grid-row: 2;
        }

        .guest-photo-controls .photo-control-btn:nth-child(5) {
            grid-column: 1;
            grid-row: 1;
        }

        .guest-photo-controls .photo-control-btn:nth-child(6) {
            grid-column: 3;
            grid-row: 1;
        }

        /* 布局切换按钮 */
        .guest-layout-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, auto);
            gap: 0.25rem;
            width: 100%;
            padding: 0.25rem;
            background: #f1f5f9;
            border-radius: 8px;
        }

        .layout-btn {
            padding: 0.3rem;
            border: 1.5px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            color: #64748b;
            min-width: 24px;
            min-height: 24px;
        }

        .layout-btn:hover {
            border-color: #667eea;
            color: #667eea;
            transform: translateY(-1px);
        }

        .layout-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: transparent;
            color: white;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .layout-btn svg {
            width: 16px;
            height: 16px;
        }

        .photo-control-btn {
            padding: 0.3rem;
            border: 1px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            color: #64748b;
            min-width: 24px;
            min-height: 24px;
        }

        .photo-control-btn:hover {
            background: #667eea;
            border-color: #667eea;
            color: white;
            transform: scale(1.1);
        }

        .photo-control-btn svg {
            width: 12px;
            height: 12px;
        }

        .photo-control-btn.zoom-btn svg {
            width: 12px;
            height: 12px;
        }

        .photo-control-btn.move-btn svg {
            width: 16px;
            height: 16px;
        }

        .guest-info-area {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 0.05rem;
            position: relative;
            padding-top: 0;
        }

        .guest-name-wrapper {
            width: 50%;
            min-width: 0;
            padding-right: 0.5rem;
        }

        .guest-name-wrapper label,
        .guest-title-wrapper label,
        .guest-bio-wrapper label {
            display: block;
            font-size: 0.75rem;
            color: #6b7280;
            margin-bottom: 0.15rem;
            font-weight: 500;
        }

        .guest-title-wrapper,
        .guest-bio-wrapper {
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .guest-bio-wrapper textarea {
            flex: 1;
            min-height: 120px;
            height: 140px;
        }

        .guest-block input[type="text"],
        .guest-block textarea {
            width: 100%;
            min-width: 0;
            font-size: 0.875rem;
            padding: 0.6rem 0.75rem;
        }

        .guest-block textarea {
            min-height: 60px;
            font-size: 0.8rem;
            resize: none;
            overflow: hidden;
            field-sizing: content;
            min-rows: 2;
        }

        .guest-block input[type="file"] {
            display: none;
        }

        .guest-remove-btn {
            position: absolute;
            top: 0;
            right: 0;
            width: 28px;
            height: 28px;
            border-radius: 6px;
            background: #ef4444;
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 500;
            box-shadow: 0 1px 3px rgba(239, 68, 68, 0.2);
            transition: all var(--transition-fast);
            line-height: 1;
            z-index: 10;
        }

        .guest-remove-btn:hover {
            background: #dc2626;
            box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3);
            transform: translateY(-1px);
        }

        .guest-remove-btn:hover {
            background: #c0392b;
            box-shadow: 0 4px 10px rgba(231, 76, 60, 0.3);
            transform: translateY(-1px);
        }

        .add-btn {
            width: 100%;
            padding: 0.875rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        /* 开关组件 */
        .toggle-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.875rem 0;
            border-bottom: 1px solid rgba(102, 126, 234, 0.08);
            transition: all 0.3s ease;
        }

        .toggle-item:last-child {
            border-bottom: none;
        }

        .toggle-item:hover {
            background: rgba(102, 126, 234, 0.03);
            border-radius: 8px;
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }

        .toggle-label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.875rem;
            color: #475569;
            font-weight: 500;
        }

        .toggle-label svg {
            color: #667eea;
            filter: drop-shadow(0 1px 2px rgba(102, 126, 234, 0.15));
        }

        .toggle-switch {
            position: relative;
            width: 52px;
            height: 28px;
            background: #cbd5e1;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }

        .toggle-switch.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .toggle-switch.active::after {
            transform: translateX(24px);
        }

        /* 导出按钮 */
        .export-section {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(102, 126, 234, 0.1);
            position: relative;
        }

        .export-section::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #667eea, transparent);
        }

        .export-btn {
            width: 100%;
            padding: 1.125rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .export-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .export-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }

        .export-btn:hover::before {
            left: 100%;
        }

        .export-btn:active {
            transform: translateY(-1px);
        }

        /* 海报预览 */
        .preview-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .poster {
            width: 600px;
            min-height: 800px;
            background: var(--gradient-1);
            border-radius: 20px;
            padding: 3rem;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-strong);
        }

        .poster-content {
            position: relative;
            z-index: 1;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .poster-title {
            font-family: var(--font-title);
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            line-height: 1.2;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .poster-subtitle {
            font-family: var(--font-display);
            font-size: 1.3rem;
            font-weight: 400;
            margin-bottom: 2rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .poster-description {
            font-size: 1rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            opacity: 0.85;
        }

        .poster-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .poster-section-title {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .poster-guests {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        /* 嘉宾显示样式 - 三种模式 */
        .poster-guest {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1rem;
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        /* 模式1: 只有姓名 - 单排大字体 */
        .poster-guest.name-only {
            justify-content: flex-start;
            padding: 1rem 1.25rem;
        }

        .poster-guest.name-only .poster-guest-info {
            display: flex;
            align-items: center;
        }

        .poster-guest.name-only .poster-guest-name {
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 0.02em;
        }

        /* 模式2: 姓名+头衔 - 双排显示 */
        .poster-guest.with-title {
            align-items: center;
        }

        .poster-guest.with-title .poster-guest-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .poster-guest.with-title .poster-guest-name {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .poster-guest.with-title .poster-guest-title {
            font-size: 0.9rem;
            opacity: 0.85;
            font-weight: 400;
        }

        /* 模式3: 姓名+头衔+简介 - 左右布局 */
        .poster-guest.with-bio {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .poster-guest.with-bio .poster-guest-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex-shrink: 0;
        }

        .poster-guest.with-bio .poster-guest-info {
            display: flex;
            flex-direction: column;
            gap: 0.15rem;
        }

        .poster-guest.with-bio .poster-guest-name {
            font-size: 1rem;
            font-weight: 600;
        }

        .poster-guest.with-bio .poster-guest-title {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .poster-guest.with-bio .poster-guest-bio {
            flex: 1;
            font-size: 0.85rem;
            line-height: 1.6;
            opacity: 0.8;
            padding-left: 1rem;
            border-left: 1px solid rgba(255,255,255,0.2);
            margin-left: 0.5rem;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* 长简介模式 - 照片姓名头衔上下排列，简介仍在右侧 */
        .poster-guest.with-bio-long .poster-guest-left {
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            width: 100px;
            flex-shrink: 0;
        }

        .poster-guest.with-bio-long .poster-guest-avatar {
            width: 60px;
            height: 60px;
        }

        .poster-guest.with-bio-long .poster-guest-info {
            text-align: center;
            align-items: center;
        }

        .poster-guest.with-bio-long .poster-guest-name {
            font-size: 0.9rem;
        }

        .poster-guest.with-bio-long .poster-guest-title {
            font-size: 0.75rem;
        }

        .poster-guest.with-bio-long .poster-guest-bio {
            border-left: 1px solid rgba(255,255,255,0.2);
            border-top: none;
            padding-left: 1rem;
            padding-top: 0;
            margin-left: 0.5rem;
            margin-top: 0;
        }

        /* ===== 三种布局样式 ===== */
        
        /* 紧凑布局 (compact) - 默认 */
        .poster-guest.layout-compact {
            /* 使用默认样式 */
        }

        /* 卡片布局 (card) */
        .poster-guest.layout-card {
            background: rgba(255,255,255,0.25);
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 1.25rem;
        }

        .poster-guest.layout-card .poster-guest-avatar {
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .poster-guest.layout-card.name-only .poster-guest-name {
            font-size: 1.6rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* 极简布局 (minimal) */
        .poster-guest.layout-minimal {
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            border-radius: 0;
            padding: 0.75rem 0.5rem;
        }

        .poster-guest.layout-minimal .poster-guest-avatar {
            width: 50px;
            height: 50px;
            background: transparent;
            border: 2px solid rgba(255,255,255,0.5);
        }

        .poster-guest.layout-minimal.name-only .poster-guest-name {
            font-size: 1.3rem;
            font-weight: 500;
            letter-spacing: 0.05em;
        }

        .poster-guest.layout-minimal.with-title .poster-guest-name {
            font-size: 1rem;
            font-weight: 500;
        }

        .poster-guest.layout-minimal.with-title .poster-guest-title {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .poster-guest.layout-minimal.with-bio .poster-guest-bio {
            border-left-color: rgba(255,255,255,0.15);
            font-size: 0.8rem;
        }

        /* 纯文字布局 (text) - 无图片 */
        .poster-guest.layout-text {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 1.25rem 1.5rem;
        }

        .poster-guest.layout-text .poster-guest-avatar {
            display: none;
        }

        .poster-guest.layout-text.name-only {
            justify-content: center;
            text-align: center;
        }

        .poster-guest.layout-text.name-only .poster-guest-name {
            font-size: 2.2rem;
            font-weight: 700;
            letter-spacing: 0.08em;
        }

        .poster-guest.layout-text.with-title {
            align-items: center;
        }

        .poster-guest.layout-text.with-title .poster-guest-info {
            gap: 0.35rem;
        }

        .poster-guest.layout-text.with-title .poster-guest-name {
            font-size: 1.6rem;
            font-weight: 700;
        }

        .poster-guest.layout-text.with-title .poster-guest-title {
            font-size: 1rem;
            opacity: 0.8;
            font-weight: 400;
        }

        .poster-guest.layout-text.with-bio {
            flex-direction: row;
            align-items: center;
            gap: 1.5rem;
        }

        .poster-guest.layout-text.with-bio .poster-guest-left {
            flex-shrink: 0;
            width: auto;
            min-width: 120px;
        }

        .poster-guest.layout-text.with-bio .poster-guest-info {
            gap: 0.25rem;
        }

        .poster-guest.layout-text.with-bio .poster-guest-name {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .poster-guest.layout-text.with-bio .poster-guest-title {
            font-size: 0.9rem;
            opacity: 0.75;
        }

        .poster-guest.layout-text.with-bio .poster-guest-bio {
            flex: 1;
            border-left: 1px solid rgba(255,255,255,0.25);
            padding-left: 1.25rem;
            margin-left: 0;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* ===== 第五种布局：侧边布局 (sidebar) ===== */
        .poster-guest.layout-sidebar {
            flex-direction: row;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: rgba(255,255,255,0.12);
            border-left: 4px solid rgba(255,255,255,0.3);
            border-radius: 0 10px 10px 0;
        }

        .poster-guest.layout-sidebar .poster-guest-avatar {
            width: 85px;
            height: 85px;
            border-radius: 12px;
            background: rgba(255,255,255,0.25);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .poster-guest.layout-sidebar.name-only {
            justify-content: flex-start;
        }

        .poster-guest.layout-sidebar.name-only .poster-guest-name {
            font-size: 1.4rem;
            font-weight: 700;
            letter-spacing: 0.03em;
        }

        .poster-guest.layout-sidebar.with-title .poster-guest-info {
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
        }

        .poster-guest.layout-sidebar.with-title .poster-guest-name {
            font-size: 1.2rem;
            font-weight: 700;
        }

        .poster-guest.layout-sidebar.with-title .poster-guest-title {
            font-size: 0.95rem;
            opacity: 0.85;
        }

        .poster-guest.layout-sidebar.with-bio {
            align-items: flex-start;
        }

        .poster-guest.layout-sidebar.with-bio .poster-guest-left {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            flex-shrink: 0;
        }

        .poster-guest.layout-sidebar.with-bio .poster-guest-info {
            text-align: left;
            align-items: flex-start;
        }

        .poster-guest.layout-sidebar.with-bio .poster-guest-name {
            font-size: 1.1rem;
        }

        .poster-guest.layout-sidebar.with-bio .poster-guest-title {
            font-size: 0.9rem;
        }

        .poster-guest.layout-sidebar.with-bio .poster-guest-bio {
            border-left: 1px solid rgba(255,255,255,0.3);
            padding-left: 1rem;
            margin-left: 0.5rem;
            font-size: 0.85rem;
            line-height: 1.7;
        }

        /* ===== 第六种布局：网格布局 (grid) ===== */
        .poster-guest.layout-grid {
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding-top: 1.25rem;
            padding-bottom: 1.25rem;
            padding-left: 1.25rem;
            padding-right: 1.25rem;
            background: rgba(255,255,255,0.08);
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.15);
        }

        .poster-guest.layout-grid .poster-guest-avatar {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            margin-bottom: 0.75rem;
            border: 2px solid rgba(255,255,255,0.25);
        }

        .poster-guest.layout-grid.with-bio .poster-guest-avatar {
            width: 100px;
            height: 100px;
            flex-shrink: 0;
        }

        .poster-guest.layout-grid.name-only {
            padding-left: 1.25rem;
        }

        .poster-guest.layout-grid.name-only .poster-guest-name {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .poster-guest.layout-grid.with-title {
            padding-left: 1.25rem;
        }

        .poster-guest.layout-grid.with-title .poster-guest-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .poster-guest.layout-grid.with-title .poster-guest-name {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .poster-guest.layout-grid.with-title .poster-guest-title {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .poster-guest.layout-grid.with-bio {
            flex-direction: column;
            align-items: stretch;
            padding-top: 1.25rem;
            padding-left: 1.25rem;
            text-align: left;
        }

        .poster-guest.layout-grid.with-bio .poster-guest-left {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 2rem;
            margin-top: 0;
            margin-bottom: 1.5rem;
            padding: 0;
            padding-left: 1.5rem;
        }

        .poster-guest.layout-grid.with-bio .poster-guest-info {
            text-align: left;
            align-items: flex-start;
            flex-direction: column;
        }

        .poster-guest.layout-grid.with-bio .poster-guest-name {
            font-size: 1.3rem;
            line-height: 1.3;
        }

        .poster-guest.layout-grid.with-bio .poster-guest-title {
            font-size: 1rem;
        }

        .poster-guest.layout-grid.with-bio .poster-guest-bio {
            text-align: left;
            font-size: 0.85rem;
            line-height: 1.6;
            opacity: 0.75;
            width: calc(100% - 3rem);
            padding: 1.5rem 1.5rem 1rem 1.5rem;
            margin: 1.5rem auto 0;
            position: relative;
            border-left: none;
        }

        .poster-guest.layout-grid.with-bio .poster-guest-bio::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            right: 0;
            height: 2px;
            background: rgba(255,255,255,0.4);
        }

        .poster-guest-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1.5rem;
            flex-shrink: 0;
            overflow: hidden;
            position: relative;
        }

        .poster-guest-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .poster-guest-info {
            flex: 1;
        }

        .poster-guest-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .poster-guest-title {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .poster-guest-bio {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 0.25rem;
        }

        .poster-footer {
            margin-top: auto;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .poster-info {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .poster-info svg {
            width: 16px;
            height: 16px;
            opacity: 0.8;
        }

        .poster-qr {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            color: #333;
        }

        .poster-qr img {
            width: 80px;
            height: 80px;
        }

        .poster-qr-text {
            flex: 1;
        }

        .poster-qr-text h3 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .poster-qr-text p {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }
            .control-panel {
                position: static;
                max-height: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 控制面板 -->
        <div class="control-panel">
            <div class="panel-header">
                <a href="index.html" style="display: inline-flex; align-items: center; gap: 0.5rem; color: #667eea; text-decoration: none; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.75rem; transition: color 0.2s; font-family: var(--font-body);">
                    <span>←</span>
                    <span>返回工具箱</span>
                </a>
                <h1 class="panel-title">海报生成器</h1>
                <p class="panel-subtitle">配置内容，一键导出精美海报</p>
            </div>

            <!-- 背景组件 -->
            <div class="component-group">
                <div class="component-group-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                    </svg>
                    <span>背景设置</span>
                </div>
                <label class="form-label">选择背景样式</label>
                <div class="gradient-grid" id="gradientGrid">
                    <div class="gradient-option active" style="background: var(--gradient-1)" data-gradient="1"></div>
                    <div class="gradient-option" style="background: var(--gradient-2)" data-gradient="2"></div>
                    <div class="gradient-option" style="background: var(--gradient-3)" data-gradient="3"></div>
                    <div class="gradient-option" style="background: var(--gradient-4)" data-gradient="4"></div>
                    <div class="gradient-option" style="background: var(--gradient-5)" data-gradient="5"></div>
                    <div class="gradient-option" style="background: var(--gradient-6)" data-gradient="6"></div>
                    <div class="gradient-option" style="background: var(--gradient-7)" data-gradient="7"></div>
                    <div class="gradient-option" style="background: var(--gradient-8)" data-gradient="8"></div>
                </div>
            </div>

            <!-- 图片组件 -->
            <div class="component-group">
                <div class="component-group-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                    </svg>
                    <span>封面图片</span>
                </div>
                <label class="form-label">上传封面图（可选）</label>
                <div class="image-upload">
                    <input type="file" id="coverImage" accept="image/*">
                    <label for="coverImage" class="image-upload-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                            <polyline points="17 8 12 3 7 8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        <span>点击上传图片</span>
                    </label>
                    <div class="image-preview" id="coverImagePreview">
                        <img src="" alt="封面预览">
                        <button type="button" class="image-preview-remove" id="removeCoverImage">移除图片</button>
                    </div>
                </div>
            </div>

            <!-- 文本组件 -->
            <div class="component-group">
                <div class="component-group-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/>
                        <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/>
                    </svg>
                    <span>文本内容</span>
                </div>
                
                <label class="form-label">主标题</label>
                <input type="text" class="form-input" id="mainTitle" value="年度设计大会" style="margin-bottom: 0.5rem;">
                <div class="align-buttons" id="mainTitleAlign">
                    <button type="button" class="align-btn active" data-align="left" title="左对齐">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z"/></svg>
                    </button>
                    <button type="button" class="align-btn" data-align="center" title="居中对齐">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z"/></svg>
                    </button>
                    <button type="button" class="align-btn" data-align="right" title="右对齐">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z"/></svg>
                    </button>
                </div>

                <label class="form-label" style="margin-top: 1rem;">副标题</label>
                <input type="text" class="form-input" id="subTitle" value="Annual Design Conference 2024" style="margin-bottom: 0.5rem;">
                <div class="align-buttons" id="subTitleAlign">
                    <button type="button" class="align-btn active" data-align="left" title="左对齐">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z"/></svg>
                    </button>
                    <button type="button" class="align-btn" data-align="center" title="居中对齐">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z"/></svg>
                    </button>
                    <button type="button" class="align-btn" data-align="right" title="右对齐">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z"/></svg>
                    </button>
                </div>

                <label class="form-label" style="margin-top: 1rem;">活动描述</label>
                <textarea class="form-textarea" id="description">探索设计的边界，共创美好未来。本次大会将汇聚全球顶尖设计师，分享最新设计趋势与创新思维。</textarea>
            </div>

            <!-- 流程组件 -->
            <div class="component-group">
                <div class="component-group-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 00-3-3.87"/>
                        <path d="M16 3.13a4 4 0 010 7.75"/>
                    </svg>
                    <span>活动流程</span>
                </div>

                <!-- 显隐控制 -->
                <div class="toggle-item">
                    <div class="toggle-label">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                        </svg>
                        <span>显示主持人</span>
                    </div>
                    <div class="toggle-switch active" data-toggle="showHost"></div>
                </div>
                <div id="hostInput" style="margin-top: 0.75rem;">
                    <label class="form-label">主持人姓名</label>
                    <input type="text" class="form-input" id="host" value="张明">
                </div>

                <div class="toggle-item" style="margin-top: 1rem;">
                    <div class="toggle-label">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                        </svg>
                        <span>显示分享嘉宾</span>
                    </div>
                    <div class="toggle-switch active" data-toggle="showSpeakers"></div>
                </div>
                <div id="speakersContainer" style="margin-top: 0.75rem;">
                    <div id="shareGuestsContainer"></div>
                    <button type="button" class="add-btn" id="addGuestBtn" style="margin-top: 1rem;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        <span>添加嘉宾</span>
                    </button>
                </div>

                <div class="toggle-item" style="margin-top: 1rem;">
                    <div class="toggle-label">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                        </svg>
                        <span>显示总结嘉宾</span>
                    </div>
                    <div class="toggle-switch active" data-toggle="showSummary"></div>
                </div>
                <div id="summaryInput" style="margin-top: 0.75rem;">
                    <label class="form-label">总结嘉宾姓名</label>
                    <input type="text" class="form-input" id="summaryGuest" value="刘静">
                </div>
            </div>

            <!-- 二维码组件 -->
            <div class="component-group">
                <div class="component-group-title">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                        <path d="M3 21h7v-7H3v7z"/>
                    </svg>
                    <span>二维码信息</span>
                </div>
                <label class="form-label">二维码链接</label>
                <input type="text" class="form-input" id="qrLink" value="https://example.com/event">
                <label class="form-label" style="margin-top: 1rem;">二维码说明</label>
                <input type="text" class="form-input" id="qrText" value="扫码了解更多详情">
            </div>

            <!-- 导出按钮 -->
            <div class="export-section">
                <button type="button" class="export-btn" id="exportBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    <span>导出海报</span>
                </button>
            </div>
        </div>

        <!-- 海报预览 -->
        <div class="preview-panel">
            <div class="poster" id="poster">
                <div class="poster-content">
                    <div class="poster-title" id="posterTitle">年度设计大会</div>
                    <div class="poster-subtitle" id="posterSubtitle">Annual Design Conference 2024</div>
                    <div class="poster-description" id="posterDescription">探索设计的边界，共创美好未来。本次大会将汇聚全球顶尖设计师，分享最新设计趋势与创新思维。</div>
                    
                    <div class="poster-section" id="hostSection">
                        <div class="poster-section-title">主持人 Host</div>
                        <div class="poster-guest" id="posterHost">
                            <div class="poster-guest-avatar">张</div>
                            <div class="poster-guest-info">
                                <div class="poster-guest-name">张明</div>
                            </div>
                        </div>
                    </div>

                    <div class="poster-section" id="speakersSection">
                        <div class="poster-section-title">分享嘉宾 Speakers</div>
                        <div class="poster-guests" id="shareGuestsList"></div>
                    </div>

                    <div class="poster-section" id="summarySection">
                        <div class="poster-section-title">总结嘉宾 Summary</div>
                        <div class="poster-guest" id="posterSummaryGuest">
                            <div class="poster-guest-avatar">刘</div>
                            <div class="poster-guest-info">
                                <div class="poster-guest-name">刘静</div>
                            </div>
                        </div>
                    </div>

                    <div class="poster-footer">
                        <div class="poster-info">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                            <span id="posterDate">2024年3月15日</span>
                        </div>
                        <div class="poster-info">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                            </svg>
                            <span id="posterLocation">线上会议</span>
                        </div>
                    </div>

                    <div class="poster-qr">
                        <img id="posterQrCode" src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://example.com/event" alt="二维码">
                        <div class="poster-qr-text">
                            <h3 id="posterQrText">扫码了解更多详情</h3>
                            <p>Scan for more details</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 嘉宾数据
        let speakers = [];

        // 初始化嘉宾列表
        const initGuests = () => {
            console.log('初始化嘉宾列表...');
            const container = document.getElementById('shareGuestsContainer');
            console.log('shareGuestsContainer:', container);
            
            const defaultGuests = [
                { name: '李华', title: '资深设计师', bio: '10年设计经验，专注用户体验设计' },
                { name: '王芳', title: '创意总监', bio: '曾获多项国际设计奖项' },
                { name: '陈强', title: '用户体验专家', bio: '擅长用户研究与交互设计' }
            ];
            
            defaultGuests.forEach((guest, index) => {
                createGuestBlock(index, guest);
            });
            
            console.log('创建嘉宾块完成，当前嘉宾数量:', container.children.length);
            updateShareGuests();
        };

        // 创建嘉宾块
        const createGuestBlock = (index, data = {}) => {
            const container = document.getElementById('shareGuestsContainer');
            
            if (!container) {
                console.error('未找到 shareGuestsContainer 容器');
                return;
            }
            
            console.log('创建嘉宾块，索引:', index, '数据:', data);
            
            const block = document.createElement('div');
            block.className = 'guest-block';
            block.dataset.index = index;
            block.innerHTML = `
                <div class="guest-block-grid">
                    <div class="guest-photo-area">
                        <div class="guest-photo-wrapper">
                            <div class="guest-photo-preview">
                                <span>照片</span>
                            </div>
                            <div class="guest-photo-overlay">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"/>
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                            </div>
                        </div>
                        <input type="file" class="form-input guest-photo" accept="image/*" style="display: none;">
                        <div class="guest-photo-controls">
                            <button type="button" class="photo-control-btn move-btn" data-action="move-up" title="上移">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="18 15 12 9 6 15"/>
                                </svg>
                            </button>
                            <button type="button" class="photo-control-btn move-btn" data-action="move-left" title="左移">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="15 18 9 12 15 6"/>
                                </svg>
                            </button>
                            <button type="button" class="photo-control-btn move-btn" data-action="move-down" title="下移">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"/>
                                </svg>
                            </button>
                            <button type="button" class="photo-control-btn move-btn" data-action="move-right" title="右移">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 6 15 12 9 18"/>
                                </svg>
                            </button>
                            <button type="button" class="photo-control-btn zoom-btn" data-action="zoom-in" title="放大">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"/>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                                    <line x1="11" y1="8" x2="11" y2="14"/>
                                    <line x1="8" y1="11" x2="14" y2="11"/>
                                </svg>
                            </button>
                            <button type="button" class="photo-control-btn zoom-btn" data-action="zoom-out" title="缩小">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"/>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                                    <line x1="8" y1="11" x2="14" y2="11"/>
                                </svg>
                            </button>
                        </div>
                        <div class="guest-layout-controls">
                            <button type="button" class="layout-btn active" data-layout="compact" title="紧凑布局">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7" rx="1"/>
                                    <rect x="14" y="3" width="7" height="7" rx="1"/>
                                    <rect x="3" y="14" width="7" height="7" rx="1"/>
                                    <rect x="14" y="14" width="7" height="7" rx="1"/>
                                </svg>
                            </button>
                            <button type="button" class="layout-btn" data-layout="card" title="卡片布局">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="4" y="4" width="16" height="16" rx="2"/>
                                    <line x1="4" y1="10" x2="20" y2="10"/>
                                </svg>
                            </button>
                            <button type="button" class="layout-btn" data-layout="minimal" title="极简布局">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="8" r="4"/>
                                    <line x1="4" y1="20" x2="20" y2="20"/>
                                </svg>
                            </button>
                            <button type="button" class="layout-btn" data-layout="text" title="纯文字布局">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="4" y1="6" x2="20" y2="6"/>
                                    <line x1="4" y1="12" x2="20" y2="12"/>
                                    <line x1="4" y1="18" x2="16" y2="18"/>
                                </svg>
                            </button>
                            <button type="button" class="layout-btn" data-layout="sidebar" title="侧边布局">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="18" rx="1"/>
                                    <rect x="13" y="5" width="8" height="3" rx="1"/>
                                    <rect x="13" y="11" width="8" height="3" rx="1"/>
                                    <rect x="13" y="17" width="6" height="3" rx="1"/>
                                </svg>
                            </button>
                            <button type="button" class="layout-btn" data-layout="grid" title="网格布局">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7" rx="1"/>
                                    <rect x="14" y="3" width="7" height="7" rx="1"/>
                                    <rect x="3" y="14" width="7" height="7" rx="1"/>
                                    <rect x="14" y="14" width="7" height="7" rx="1"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="guest-info-area">
                        <button type="button" class="guest-remove-btn">×</button>
                        <div class="guest-name-wrapper">
                            <label>姓名</label>
                            <input type="text" class="form-input guest-name" value="${data && data.name ? data.name : ''}" placeholder="姓名">
                        </div>
                        <div class="guest-title-wrapper">
                            <label>头衔</label>
                            <input type="text" class="form-input guest-title" value="${data && data.title ? data.title : ''}" placeholder="头衔">
                        </div>
                        <div class="guest-bio-wrapper">
                            <label>简介</label>
                            <textarea class="form-textarea guest-bio" placeholder="嘉宾简介" rows="2">${data && data.bio ? data.bio : ''}</textarea>
                        </div>
                    </div>
                </div>
            `;

            // 照片预览
            const photoInput = block.querySelector('.guest-photo');
            const photoPreview = block.querySelector('.guest-photo-preview');
            const photoWrapper = block.querySelector('.guest-photo-wrapper');

            // 照片变换数据存储在block上
            block.dataset.photoTransform = JSON.stringify({
                scale: 1,
                offsetX: 0,
                offsetY: 0
            });

            // 布局偏好存储在block上
            block.dataset.layout = 'compact';

            photoInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (ev) => {
                        photoPreview.innerHTML = `<img src="${ev.target.result}" alt="嘉宾照片">`;
                        photoPreview.classList.add('has-image');
                        updateShareGuests();
                    };
                    reader.readAsDataURL(file);
                } else {
                    photoPreview.innerHTML = `<span>照片预览</span>`;
                    photoPreview.classList.remove('has-image');
                    updateShareGuests();
                }
            });

            // 点击图片区域也可以触发上传
            photoWrapper.addEventListener('click', (e) => {
                photoInput.click();
            });

            // 照片控制按钮
            const controlBtns = block.querySelectorAll('.photo-control-btn');
            controlBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const action = btn.dataset.action;
                    const img = photoPreview.querySelector('img');

                    if (!img) return;

                    // 获取当前块的变换数据
                    const photoTransform = JSON.parse(block.dataset.photoTransform);

                    const step = 2;
                    switch(action) {
                        case 'zoom-in':
                            photoTransform.scale = Math.min(photoTransform.scale + 0.1, 2);
                            break;
                        case 'zoom-out':
                            photoTransform.scale = Math.max(photoTransform.scale - 0.1, 0.5);
                            break;
                        case 'move-up':
                            photoTransform.offsetY -= step;
                            break;
                        case 'move-down':
                            photoTransform.offsetY += step;
                            break;
                        case 'move-left':
                            photoTransform.offsetX -= step;
                            break;
                        case 'move-right':
                            photoTransform.offsetX += step;
                            break;
                    }

                    // 保存变换数据
                    block.dataset.photoTransform = JSON.stringify(photoTransform);

                    // 更新预览区域的照片
                    img.style.transform = `translate(${photoTransform.offsetX}px, ${photoTransform.offsetY}px) scale(${photoTransform.scale})`;
                    img.style.transformOrigin = 'center center';

                    // 更新海报中的照片
                    updateShareGuests();
                });
            });

            // 删除按钮
            block.querySelector('.guest-remove-btn').addEventListener('click', () => {
                const blocks = document.querySelectorAll('#shareGuestsContainer .guest-block');
                if (blocks.length > 1) {
                    block.remove();
                    updateShareGuests();
                } else {
                    alert('至少保留一个嘉宾');
                }
            });

            // 简介输入框自动调整高度
            const bioTextarea = block.querySelector('.guest-bio');
            const autoResizeTextarea = (textarea) => {
                textarea.style.height = 'auto';
                textarea.style.height = textarea.scrollHeight + 'px';
            };
            
            bioTextarea.addEventListener('input', () => {
                autoResizeTextarea(bioTextarea);
            });
            
            // 初始化高度
            if (bioTextarea.value) {
                autoResizeTextarea(bioTextarea);
            }

            // 布局切换按钮
            const layoutBtns = block.querySelectorAll('.layout-btn');
            const photoControls = block.querySelector('.guest-photo-controls');
            
            layoutBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    
                    // 更新按钮状态
                    layoutBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // 保存布局偏好
                    const layout = btn.dataset.layout;
                    block.dataset.layout = layout;
                    
                    // 纯文字布局时禁用照片控制按钮，但不隐藏
                    const controlBtns = photoControls.querySelectorAll('.photo-control-btn');
                    if (layout === 'text') {
                        photoWrapper.style.opacity = '0.5';
                        photoWrapper.style.pointerEvents = 'none';
                        controlBtns.forEach(btn => {
                            btn.disabled = true;
                            btn.style.opacity = '0.4';
                            btn.style.cursor = 'not-allowed';
                        });
                    } else {
                        photoWrapper.style.opacity = '1';
                        photoWrapper.style.pointerEvents = 'auto';
                        controlBtns.forEach(btn => {
                            btn.disabled = false;
                            btn.style.opacity = '1';
                            btn.style.cursor = 'pointer';
                        });
                    }
                    
                    // 更新海报
                    updateShareGuests();
                });
            });

            container.appendChild(block);
        };

        // 添加嘉宾
        document.getElementById('addGuestBtn').addEventListener('click', () => {
            const blocks = document.querySelectorAll('#shareGuestsContainer .guest-block');
            const newIndex = blocks.length;
            createGuestBlock(newIndex);
        });

        // 更新嘉宾列表
        const updateShareGuests = () => {
            const blocks = document.querySelectorAll('#shareGuestsContainer .guest-block');
            const list = document.getElementById('shareGuestsList');
            console.log('更新嘉宾列表，找到', blocks.length, '个嘉宾块');
            
            if (!list) {
                console.error('未找到 shareGuestsList 元素');
                return;
            }
            
            list.innerHTML = '';

            blocks.forEach((block, blockIndex) => {
                const name = block.querySelector('.guest-name').value;
                const title = block.querySelector('.guest-title').value;
                const bio = block.querySelector('.guest-bio').value;
                const photoPreviewImg = block.querySelector('.guest-photo-preview img');
                const initial = name ? name.charAt(0) : '嘉';

                const guestElement = document.createElement('div');
                guestElement.dataset.blockIndex = blockIndex;

                // 获取当前块的变换数据
                let photoTransform;
                try {
                    photoTransform = JSON.parse(block.dataset.photoTransform || '{"scale":1,"offsetX":0,"offsetY":0}');
                } catch (e) {
                    photoTransform = {scale: 1, offsetX: 0, offsetY: 0};
                }
                
                // 统一头像SVG
                const defaultAvatar = `<svg viewBox="0 0 100 100" style="width:100%;height:100%;padding:15px;opacity:0.6;">
                    <circle cx="50" cy="35" r="20" fill="currentColor"/>
                    <path d="M20 85 Q50 55 80 85" stroke="currentColor" stroke-width="8" fill="none" stroke-linecap="round"/>
                </svg>`;
                
                let avatarContent;
                if (photoPreviewImg && photoPreviewImg.src) {
                    avatarContent = `<img src="${photoPreviewImg.src}" alt="${name || ''}" style="transform: translate(${photoTransform.offsetX}px, ${photoTransform.offsetY}px) scale(${photoTransform.scale}); transform-origin: center center; transition: transform 0.2s ease;">`;
                } else {
                    avatarContent = defaultAvatar;
                }

                // 判断显示模式
                const hasName = name && name.trim && name.trim();
                const hasTitle = title && title.trim && title.trim();
                const hasBio = bio && bio.trim && bio.trim();
                
                // 获取布局偏好
                const layout = block.dataset.layout || 'compact';
                guestElement.dataset.layout = layout;

                if (hasName && !hasTitle && !hasBio) {
                    // 模式1: 只有姓名
                    guestElement.className = `poster-guest name-only layout-${layout}`;
                    guestElement.innerHTML = `
                        <div class="poster-guest-avatar">${avatarContent}</div>
                        <div class="poster-guest-info">
                            <div class="poster-guest-name">${name}</div>
                        </div>
                    `;
                } else if (hasName && hasTitle && !hasBio) {
                    // 模式2: 姓名+头衔
                    guestElement.className = `poster-guest with-title layout-${layout}`;
                    guestElement.innerHTML = `
                        <div class="poster-guest-avatar">${avatarContent}</div>
                        <div class="poster-guest-info">
                            <div class="poster-guest-name">${name}</div>
                            <div class="poster-guest-title">${title}</div>
                        </div>
                    `;
                } else {
                    // 模式3: 姓名+头衔+简介（或只有姓名+简介）
                    const displayTitle = hasTitle ? title : '';
                    const displayBio = hasBio ? bio : '';
                    
                    // 应用布局偏好样式
                    const bioClass = 'with-bio';
                    guestElement.className = `poster-guest ${bioClass} layout-${layout}`;
                    
                    guestElement.innerHTML = `
                        <div class="poster-guest-left">
                            <div class="poster-guest-avatar">${avatarContent}</div>
                            <div class="poster-guest-info">
                                <div class="poster-guest-name">${name || '嘉宾'}</div>
                                ${displayTitle ? `<div class="poster-guest-title">${displayTitle}</div>` : ''}
                            </div>
                        </div>
                        ${displayBio ? `<div class="poster-guest-bio">${displayBio}</div>` : ''}
                    `;
                }

                list.appendChild(guestElement);
            });
            
            console.log('嘉宾列表更新完成，列表中现在有', list.children.length, '个嘉宾');
        };

        // 监听嘉宾信息变化
        document.getElementById('shareGuestsContainer').addEventListener('input', updateShareGuests);

        // 切换开关
        document.querySelectorAll('.toggle-switch').forEach(toggle => {
            toggle.addEventListener('click', function() {
                this.classList.toggle('active');
                const target = this.dataset.toggle;
                
                if (target === 'showHost') {
                    document.getElementById('hostInput').style.display = this.classList.contains('active') ? 'block' : 'none';
                    document.getElementById('hostSection').style.display = this.classList.contains('active') ? 'block' : 'none';
                } else if (target === 'showSpeakers') {
                    document.getElementById('speakersContainer').style.display = this.classList.contains('active') ? 'block' : 'none';
                    document.getElementById('speakersSection').style.display = this.classList.contains('active') ? 'block' : 'none';
                } else if (target === 'showSummary') {
                    document.getElementById('summaryInput').style.display = this.classList.contains('active') ? 'block' : 'none';
                    document.getElementById('summarySection').style.display = this.classList.contains('active') ? 'block' : 'none';
                }
            });
        });

        // 背景渐变切换
        document.querySelectorAll('.gradient-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.gradient-option').forEach(o => o.classList.remove('active'));
                this.classList.add('active');
                const gradient = this.dataset.gradient;
                document.getElementById('poster').style.background = `var(--gradient-${gradient})`;
            });
        });

        // 对齐按钮功能
        const setupAlignButtons = (containerId, targetId) => {
            const container = document.getElementById(containerId);
            const target = document.getElementById(targetId);
            
            container.querySelectorAll('.align-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // 移除所有按钮的active状态
                    container.querySelectorAll('.align-btn').forEach(b => b.classList.remove('active'));
                    // 添加当前按钮的active状态
                    this.classList.add('active');
                    // 设置对齐方式
                    const align = this.dataset.align;
                    target.style.textAlign = align;
                });
            });
        };

        // 初始化对齐按钮
        setupAlignButtons('mainTitleAlign', 'posterTitle');
        setupAlignButtons('subTitleAlign', 'posterSubtitle');

        // 文本更新
        document.getElementById('mainTitle').addEventListener('input', function() {
            document.getElementById('posterTitle').textContent = this.value;
        });

        document.getElementById('subTitle').addEventListener('input', function() {
            document.getElementById('posterSubtitle').textContent = this.value;
        });

        document.getElementById('description').addEventListener('input', function() {
            document.getElementById('posterDescription').textContent = this.value;
        });

        // 主持人更新
        document.getElementById('host').addEventListener('input', function() {
            const name = this.value;
            document.querySelector('#posterHost .poster-guest-name').textContent = name;
            document.querySelector('#posterHost .poster-guest-avatar').textContent = name ? name.charAt(0) : '主';
        });

        // 总结嘉宾更新
        document.getElementById('summaryGuest').addEventListener('input', function() {
            const name = this.value;
            document.querySelector('#posterSummaryGuest .poster-guest-name').textContent = name;
            document.querySelector('#posterSummaryGuest .poster-guest-avatar').textContent = name ? name.charAt(0) : '总';
        });

        // 二维码更新
        document.getElementById('qrLink').addEventListener('input', function() {
            document.getElementById('posterQrCode').src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(this.value)}`;
        });

        document.getElementById('qrText').addEventListener('input', function() {
            document.getElementById('posterQrText').textContent = this.value;
        });

        // 封面图片上传
        document.getElementById('coverImage').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    document.getElementById('coverImagePreview').querySelector('img').src = ev.target.result;
                    document.getElementById('coverImagePreview').classList.add('show');
                };
                reader.readAsDataURL(file);
            }
        });

        document.getElementById('removeCoverImage').addEventListener('click', function() {
            document.getElementById('coverImage').value = '';
            document.getElementById('coverImagePreview').classList.remove('show');
        });

        // 导出海报
        document.getElementById('exportBtn').addEventListener('click', async function() {
            const poster = document.getElementById('poster');
            try {
                const canvas = await html2canvas(poster, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true
                });
                const link = document.createElement('a');
                link.download = 'poster.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            } catch (error) {
                alert('导出失败，请重试');
                console.error(error);
            }
        });

        // DOM 加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM 加载完成，开始初始化嘉宾列表...');
            
            // 切换开关初始化显示状态
            document.querySelectorAll('.toggle-switch').forEach(toggle => {
                const target = toggle.dataset.toggle;
                const isActive = toggle.classList.contains('active');
                
                // 初始化显示状态
                if (target === 'showHost') {
                    const hostInput = document.getElementById('hostInput');
                    const hostSection = document.getElementById('hostSection');
                    if (hostInput && hostSection) {
                        hostInput.style.display = isActive ? 'block' : 'none';
                        hostSection.style.display = isActive ? 'block' : 'none';
                    }
                } else if (target === 'showSpeakers') {
                    const speakersContainer = document.getElementById('speakersContainer');
                    const speakersSection = document.getElementById('speakersSection');
                    if (speakersContainer && speakersSection) {
                        speakersContainer.style.display = isActive ? 'block' : 'none';
                        speakersSection.style.display = isActive ? 'block' : 'none';
                        console.log('嘉宾区域初始化显示状态:', isActive);
                    }
                } else if (target === 'showSummary') {
                    const summaryInput = document.getElementById('summaryInput');
                    const summarySection = document.getElementById('summarySection');
                    if (summaryInput && summarySection) {
                        summaryInput.style.display = isActive ? 'block' : 'none';
                        summarySection.style.display = isActive ? 'block' : 'none';
                    }
                }
            });
            
            // 延迟一小段时间，确保所有元素都正确渲染后再初始化嘉宾列表
            setTimeout(() => {
                initGuests();
                
                // 再次更新嘉宾列表，确保内容正确显示
                setTimeout(() => {
                    updateShareGuests();
                }, 100);
            }, 200);
        });

        // 确保嘉宾区域初始显示
        setTimeout(() => {
            const speakersContainer = document.getElementById('speakersContainer');
            const speakersSection = document.getElementById('speakersSection');
            const showSpeakersToggle = document.querySelector('[data-toggle="showSpeakers"]');
            
            console.log('检查嘉宾区域显示状态:');
            console.log('- speakersContainer:', speakersContainer, speakersContainer ? speakersContainer.style.display : 'N/A');
            console.log('- speakersSection:', speakersSection, speakersSection ? speakersSection.style.display : 'N/A');
            console.log('- showSpeakersToggle:', showSpeakersToggle, showSpeakersToggle ? showSpeakersToggle.classList.contains('active') : 'N/A');
            
            if (speakersContainer && speakersSection && showSpeakersToggle && showSpeakersToggle.classList.contains('active')) {
                speakersContainer.style.display = 'block';
                speakersSection.style.display = 'block';
                console.log('嘉宾区域已强制设置为显示');
                
                // 再次更新嘉宾列表，确保内容正确显示
                updateShareGuests();
            }
        }, 100);
    </script>
</body>
</html>